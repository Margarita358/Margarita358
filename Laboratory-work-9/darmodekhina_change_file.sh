#!/bin/bash

# Скрипт для зміни назви файлу

# 1. Запит старої назви
read -p "Введіть назву існуючого файлу: " old_name

# 2. Перевірка чи існує файл
if [ ! -e "$old_name" ]; then
    echo "Помилка: файл '$old_name' не існує."
    exit 1
fi

# 3. Запит нової назви
read -p "Введіть нову назву файлу: " new_name

# 4. Перевірка обмежень
if [ ${#new_name} -gt 11 ]; then
    echo "Помилка: назва файлу занадто довга (макс 11 символів)."
    exit 1
fi

if echo "$new_name" | grep -Eq '[0-9]{8}'; then
    echo "Помилка: у назві файлу не може бути 8 цифр підряд."
    exit 1
fi

# 5. Перевірка, чи новий файл уже існує
if [ -e "$new_name" ]; then
    echo "Помилка: файл з назвою '$new_name' вже існує."
    exit 1
fi

# 6. Виконання перейменування
mv "$old_name" "$new_name"
echo "Файл '$old_name' перейменовано у '$new_name'."
